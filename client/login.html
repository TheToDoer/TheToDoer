<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Login</title>
    <script src="superfetch2.js"></script>
  </head>
  <body>

    <h3>Login</h3>
    <input id="inpLoginname" type="text" name="" value="">
    <br>
    <h3>Password</h3>
    <input id="inpPassword" type="text" name="" value="">
    <br>
    <button id="btnLogin" type="button" name="button">Login</button>



  </body>

  <script>

  var inpLoginname = document.getElementById("inpLoginname");
  var inpPassword = document.getElementById("inpPassword");
  var btnLogin = document.getElementById("btnLogin");

//button click ---------------------------------
btnLogin.onclick = function() {

    var upload = JSON.stringify({
        loginname: inpLoginname.value,
        password: inpPassword.value,
    });

    var url = "http://localhost:8080/thetodoer/users/auth/";

    var cfg = {
        method: "POST",
        body: upload
    }

    superfetch(url, "json", succ, error, cfg);
}

//success --------------------------------------
function succ(data) {

    //save logindata/token to localStorage
    localStorage.setItem("logindata", JSON.stringify(data));
    console.log("it worked!");
}

//error ----------------------------------------
function error(err) {
    console.log(err);
}


  </script>
</html>
